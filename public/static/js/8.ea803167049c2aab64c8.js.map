{"version":3,"sources":["webpack:///src/views/login/login.vue","webpack:///./src/views/login/login.vue?b1a4","webpack:///./src/views/login/login.vue"],"names":["login","name","data","username","password","beforeCreate","this","$store","getters","isLogin","$router","push","methods","extends_default","Object","vuex_esm","onSubmit","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","params","wrap","_context","prev","next","alert","abrupt","$refs","refPassword","validate","sent","valid","userId","authLogin","status","SET_MENU","t0","console","error","stop","goToPages","computed","errorState","login_login","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","position","_m","_v","on","submit","$event","preventDefault","apply","arguments","ref","attrs","rules","directives","rawName","value","expression","id","type","placeholder","domProps","input","target","composing","staticRenderFns","src","alt","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/8.ea803167049c2aab64c8.js","sourcesContent":["<template>\r\n    <div class=\"login-wrap\" style=\"position: absolute;\">\r\n        <div class=\"login-box\">\r\n            <h1 class=\"login_logo\">\r\n                <img src=\"/static/EXcode/static/images/ic_login_logo.png\" alt=\"\">\r\n                <span>돌발상황매니저</span>\r\n            </h1>\r\n            <div class=\"input_container\">\r\n                <ValidationObserver>\r\n                    <form @submit.prevent=\"onSubmit\">\r\n                        <ValidationProvider ref=\"refEmail\" rules=\"email\">\r\n                        <div class=\"input_box\">\r\n                            <input id=\"username\" type=\"text\" class=\"input_txt input_id\" name=\"username\" placeholder=\"Enter your ID\" v-model=\"username\" >\r\n                        </div>\r\n                        </ValidationProvider>\r\n                        <ValidationProvider ref=\"refPassword\" rules=\"password\">\r\n                            <div class=\"input_box\">\r\n                                <input id=\"password\" class=\"input_txt input_pw\" name=\"password\" placeholder=\"Enter your password\" v-model=\"password\" type=\"password\" >\r\n                                <!-- <input class=\"input_txt input_pw\" name=\"password\" placeholder=\"Enter your password\" v-model=\"password\" type=\"password\" v-validate=\"'required|min:6'\"> -->\r\n                            </div>\r\n                        </ValidationProvider>\r\n                        <div class=\"input_box\">\r\n                            <button type=\"submit\" class=\"btn btn_login\">\r\n                                로그인\r\n                            </button>                \r\n                        </div>\r\n                    </form>\r\n                </ValidationObserver>\r\n            </div>\r\n            <div>\r\n                <!-- <h2>Log In</h2> -->\r\n                <!-- <div class=\"alert-danger\" v-if=\"errors.has('password')\"></div> -->\r\n            </div>\r\n            <address>COPYRIGHT ⓒ 2021 Korea Expressway Corporation. All Rights reserved.</address>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { mapActions, mapGetters,mapMutations } from 'vuex' // mapGetters를 추가한다\r\n\r\n\r\nexport default {\r\n    name: 'Login',\r\n    \r\n    data: () => ({\r\n        username: '',\r\n        password: ''\r\n    }),\r\n    beforeCreate(){\r\n        if(this.$store.getters.isLogin){\r\n            this.$router.push({\r\n                name: 'dashboard'\r\n            })\r\n        }\r\n    },\r\n    methods: {\r\n        ...mapActions('auth', ['authLogin']),\r\n        ...mapMutations('menu', [\"SET_MENU\"]),\r\n        async onSubmit () {\r\n            try {\r\n                //validation\r\n                if(this.username != \"\"){\r\n                    // const refEmail = await this.$refs.refEmail.validate()\r\n                    // // alert(refEmail.valid)\r\n                    // if (!refEmail.valid) {\r\n                    //     alert(\"이메일 형식에 맞지 않습니다.\")\r\n                    //     return false\r\n                    // }\r\n                }else{\r\n                    alert(\"ID를 입력하세요.\")\r\n                    return false\r\n                }\r\n                \r\n                if(this.password != \"\"){\r\n                    const refPassword = await this.$refs.refPassword.validate()\r\n                    if (!refPassword.valid) {\r\n                        alert(\"비밀번호 형식에 맞지 않습니다.\")\r\n                        return false\r\n                    }\r\n                }else{\r\n                    alert(\"비밀번호를 입력하세요.\")\r\n                    return false\r\n                }\r\n                // login api\r\n                const params = {\r\n                    userId : this.username,\r\n                    password: this.password\r\n                }\r\n                //console.log(params.userId, params.password)\r\n                const result = await this.authLogin(params);\r\n\r\n                if(result.status == 200){\r\n                    this.SET_MENU(\"dashboard\")\r\n                    this.$router.push({\r\n                        name: 'dashboard'\r\n                    })\r\n\r\n\r\n                }else{\r\n\r\n                }\r\n                \r\n                \r\n                // success\r\n                // this.$store.commit('setUser', this.username)\r\n                \r\n            } catch (err) {\r\n                console.error(err)\r\n            }\r\n        },\r\n\r\n        goToPages () {\r\n        this.$router.push({\r\n            name: 'dashboard'\r\n        })\r\n        }\r\n    },\r\n    computed: {\r\n    ...mapGetters({\r\n      errorState: 'getErrorState' // getter로 errorState를 받는다\r\n    })\r\n  }\r\n}\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/views/login/login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-wrap\",staticStyle:{\"position\":\"absolute\"}},[_c('div',{staticClass:\"login-box\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"input_container\"},[_c('ValidationObserver',[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit.apply(null, arguments)}}},[_c('ValidationProvider',{ref:\"refEmail\",attrs:{\"rules\":\"email\"}},[_c('div',{staticClass:\"input_box\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.username),expression:\"username\"}],staticClass:\"input_txt input_id\",attrs:{\"id\":\"username\",\"type\":\"text\",\"name\":\"username\",\"placeholder\":\"Enter your ID\"},domProps:{\"value\":(_vm.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.username=$event.target.value}}})])]),_vm._v(\" \"),_c('ValidationProvider',{ref:\"refPassword\",attrs:{\"rules\":\"password\"}},[_c('div',{staticClass:\"input_box\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],staticClass:\"input_txt input_pw\",attrs:{\"id\":\"password\",\"name\":\"password\",\"placeholder\":\"Enter your password\",\"type\":\"password\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"input_box\"},[_c('button',{staticClass:\"btn btn_login\",attrs:{\"type\":\"submit\"}},[_vm._v(\"\\n                            로그인\\n                        \")])])],1)])],1),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('address',[_vm._v(\"COPYRIGHT ⓒ 2021 Korea Expressway Corporation. All Rights reserved.\")])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h1',{staticClass:\"login_logo\"},[_c('img',{attrs:{\"src\":\"/static/EXcode/static/images/ic_login_logo.png\",\"alt\":\"\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"돌발상황매니저\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5e50bf1e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/login/login.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5e50bf1e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/login/login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}